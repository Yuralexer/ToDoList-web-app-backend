# ToDoList (Backend)

---

Серверная часть веб-приложения для управления задачами.


## Оглавление
- [Описание](#описание)
- [Как пользоваться репозиторием](#как-пользоваться-репозиторием)
- [Инструкция по запуску проекта](#инструкция-по-запуску-проекта)
- [Команды MAKE](#команды-make)
- [Работа с Docker](#работа-с-docker)
- [Контакты](#контакты)

## Описание
ToDoList — это веб-приложение, которое позволяет пользователям управлять своими задачами с помощью канбан-доски. Оно разработано с использованием Python и Django.

## Как пользоваться репозиторием?
Вы можете просмотреть код на [GitHub](https://github.com/Yuralexer/ToDoList-web-app-backend) или создать свою реализацию, сделав форк репозитория.

## Инструкция по запуску проекта
1. Установите **Python 3.12**. Для Linux рекомендуется использовать `pyenv`, а для Windows — установить Python с [официального сайта](https://www.python.org/downloads/) и добавить его в переменные окружения.
2. (Windows) Установите [Chocolatey](https://chocolatey.org/install).
3. (Windows) Установите [GNU make](https://community.chocolatey.org/packages/make).
4. Установите менеджер пакетов UV: 
    ```bash
    pip install uv
    ```
5. Клонируйте репозиторий или форк:
    ```bash
    git clone https://github.com/Yuralexer/ToDoList-web-app-backend.git
    ```
6. Внутри рабочей директории проекта создайте виртуальное окружение:
    ```bash
    uv venv
    ```
7. Установите зависимости:
    ```bash
    uv pip install -r pyproject.toml
    ```

8. Создайте в корне проекта файл config.local.json.
В нем опишите следующие поля:
    ```json
    {
        "SECRET_KEY": "Ваш секретный ключ Django",
        "DEBUG": true,
        "ALLOWED_HOSTS": ["localhost"],
        "CORS_ALLOWED_ORIGINS": ["http://localhost:3000", "Другие разрешаемые хосты"]
    }
    ```

9. Примените миграции:
   ```bash
   uv run make migrate
   ```

10. Запустите веб-приложение:
    ```bash
    uv run make runserver
    ```
   
---
## Команды MAKE
Внимание! Все команды имеют вид: uv run make {название_команды}
* **fix** - Исправляет стиль кода по стандарту PEP8.
* **lint** - Проверяет проект на соответствие стандарту PEP8.
* **test** - Запускает все тесты.
* **testapp** - Запускает тесты для одного приложения. Укажите параметр app:
    ```bash
    uv run make testapp app={название_приложения}
    ```
* **check** - Проводит полную проверку проекта: на PEP8 и автоматические тесты.
* **runserver** - Запускает сервер.
* **startapp** - Создает новое приложение. Укажите параметр app:
    ```bash
    uv run make startapp app={название_приложения}
    ```
* **makemigrations** - Создает миграции для базы данных.
* **migrate** - Применяет ранее созданные миграции к базе данных.
* **shell** - Запускает консоль Django.
* **createadmin** - Создает суперпользователя (админа).

## Работа с Docker
1. Перед сборкой образа убедитесь, что в [Dockerfile]() указаны все приложения, 
которые вы хотите включить в образ. Для добавления приложения добавьте строку:
    ```dockerfile
    COPY название_приложения ./название_приложения
    ```
    Убедитесь, что директория приложения находится внутри корневой директории проекта.
2. Соберите образ:
    ```bash
    docker build -t {название_проекта_или_веб_сервиса} .
    ```
3. Запустите образ:
    ```bash
    docker run -p 8000:8000 {название_проекта_или_веб_сервиса}
    ```
   Вы также можете добавить свои флаги Docker.

## Контакты
Ряховский Юрий Александрвоич ([Yuralexer](https://github.com/Yuralexer))